# [üáßüá∑ Portugu√™s]

# üç≤ Spot

O Spot √© um projeto fullstack que consiste em um MVP de uma aplica√ß√£o do ramo gastron√¥mico, que ap√≥s logado (email e senha criptografados), traz para o usu√°rio uma lista de restaurantes e suas respectivas informa√ß√µes, como endere√ßo, n√∫mero de telefone, e seus card√°pios, contendo detalhes de cada item do menu como descri√ß√£o e pre√ßo

## üß∞ Constru√≠do com:

- [Javascript](https://www.javascript.com/) - Linguagem de programa√ß√£o utilizada
- [React](https://reactjs.org/) - Biblioteca front-end para componentiza√ß√£o
- [React Router](https://reactrouter.com/en/main) - Biblioteca React para gerenciamento de rotas
- [ContextAPI](https://reactjs.org/docs/context.html) - Recurso React para gerenciamento de estado
- [React Icons](https://react-icons.github.io/react-icons/) - Biblioteca React de √≠cones
- [Styled Components](https://styled-components.com/) - Biblioteca React para estiliza√ß√£o de componentes
- [Node.js](https://nodejs.org/en/) - Campo de execu√ß√£o JS para back-end
- [Express.js](https://expressjs.com/) - Framework Node.js
- [Sequelize](https://sequelize.org/) - ORM para requisi√ß√µes ao banco relacional MySQL
- [MySQL](https://www.mysql.com/) - Banco de dados relacional utilizado
- [Docker](https://www.docker.com/) - Servi√ßo de containeriza√ß√£o
- [Axios](https://axios-http.com/docs/intro) - Biblioteca front-end para requisi√ß√µes a API
- [Concurrently](https://www.npmjs.com/package/concurrently) - Pacote utilizado para startar o front e back simultaneamente
- [Jsonwebtoken](https://jwt.io/) - Biblioteca utilizada para gerar token de valida√ß√£o do usu√°rio
- [md5](https://www.md5hashgenerator.com/) - Biblioteca que gera hash a partir de um payload
- [joi](https://www.npmjs.com/package/joi) - Utilizada para validar campos de login
- [Express Async Errors](https://www.npmjs.com/package/express-async-errors) - Captura erros ass√≠ncronos gerados no express
- [dotenv](https://www.npmjs.com/package/dotenv) - Alocar vari√°veis de ambiente
- [mocha](https://mochajs.org/) - Framework de testes Node.js
- [chai](https://www.chaijs.com/) - Biblioteca de assertions Node.js
- [sinon](https://sinonjs.org/) - Biblioteca de stubs e mocks para Javascript

## ‚úÖ Status

*Front-end:*
  - [x] P√°gina de login responsiva e campos de email e senha
  - [x] P√°gina de registro responsiva com campos de email, senha e usu√°rio
  - [x] Rotas de usu√°rio e de restaurantes criadas
  - [x] P√°gina "home" responsiva listando todos os restaurantes dispon√≠veis no banco
  - [x] Estiliza√ß√£o dos restaurantes da home
  - [x] Op√ß√£o de filtro dos restaurantes atr√°ves do campo de busca (que busque pelo nome do restaurante, nome ou descri√ß√£o de um prato)
  - [x] Tela de informa√ß√µes de um restaurante acess√≠vel atrav√©s de um click no card do mesmo
  - [x] Tela de informa√ß√µes de um restaurante mostrando o nome, endere√ßo e telefone do mesmo, al√©m da lista de itens do menu (com nome, decri√ß√£o e pre√ßo)
  - [x] Op√ß√£o na barra de navega√ß√£o que possibilita o usu√°rio retornar a "home"
  - [x] Op√ß√£o na barra de navega√ß√£o que possibilita o usu√°rio deslogar da aplica√ß√£o
  - [ ] Testes da p√°gina "login"
  - [ ] Testes da p√°gina "register"
  - [ ] Testes da p√°gina "home"
  - [ ] Testes da p√°gina "restaurants"

*Back-end:*
  - [x] Cria√ß√£o da estrutura e relacionamentos do banco de dados
  - [x] Cria√ß√£o das rotas de usu√°rio e restaurantes 
  - [x] Cria√ß√£o da rota de itens (incluindo a rota que traz os itens de acordo com o "id" de um restaurante)
  - [x] Popular o banco com usu√°rios pr√© cadastrados (e-mail e senha criptografados), restaurantes e seus respectivos itens
  - [x] No login, validar previamente se o e-mail se encontra no banco
  - [x] Na home, validar se o usu√°rio possui acesso a pagina atr√°ves de um token gerado no login
  - [x] Testes dos "controllers"
  - [x] Testes das "services"
  - [x] Testes das "models"

## üë∑‚Äç‚ôÇÔ∏è Testes

Neste projeto est√° sendo feito uma cobertura de testes **unit√°rios**, para testar a aplica√ß√£o, entre na pasta que deseja testar (Front/Client: `./client`, Back/Servidor: `./server`) e rode o comando `npm test`

> Obs: Testes front-end ainda n√£o foram criados, confira seu status na sess√£o **‚úÖ status** deste readme

## üë©‚Äçüíª Acesse o projeto

‚ö†üõ† Deploy ainda n√£o realizado :'( üõ†‚ö†

## üíª Pr√©-requisitos

Antes de instalar a aplica√ß√£o, caso opte por rodar a aplica√ß√£o via [Docker](https://www.docker.com/) verifique se voc√™ possui:

  - Vers√£o *igual* ou *superior* a `1.13.1` do `Docker`
  - Portas `3000`, `3001` e `3306` da sua m√°quina liberadas
  
Sem Docker:

  - Vers√£o *igual* ou *superior* a `16` do `node`
  - Inst√¢ncia do [`MySQL`](https://www.mysql.com/) rodando na porta `3306`
    > ‚ö† Atualize as vari√°veis de ambiente com a senha do seu banco (arquivo .env na pasta /server), e tamb√©m as vari√°veis do arquivo config do sequelize (arquivo config na pasta /server/database/config) ‚ö†
  - Portas `3000` e `3001` da sua m√°quina liberadas

## üöÄ Instalando localmente

Siga esses os comandos em ordem *de acordo com o m√©todo que escolher*

Via Docker:

  - Clone o projeto: `git clone git@github.com:SamuelDAlencar/rest-listing_app.git`
  - Dentro da raiz: `npm run compose:d`
    > Caso queira rodar os containers acoplado ao terminal para acompanhar o status deles, rode somente `npm run compose:up`, e depois popule o banco em outro terminal com o comando `npm run pre:start:server` na raiz, ou `npm run pre:start` caso esteja na pasta /server
  - Caso n√£o ocorra nenhum erro, acesse a p√°gina e fa√ßa login: `http://localhost:3000/login`

Sem Docker:

  - Clone o projeto: `git clone git@github.com:SamuelDAlencar/rest-listing_app.git`
  - Dentro da raiz: `npm run install:apps`
  - Ainda na raiz: `npm run start:apps`
  - Caso n√£o ocorra nenhum erro e a aplica√ß√£o ainda n√£o tenha aberto no browser, acesse essa URL e fa√ßa o login: `http://localhost:3000/login`

## üë©‚Äçüíª Utilizando a aplica√ß√£o

Clique no bot√£o `"Registrar"` ao entrar na aplica√ß√£o, e ins√≠ra dados de login que **n√£o sejam sens√≠veis**

Caso prefira n√£o fazer registro, basta utilizar um destes 3 usu√°rios j√° cadastrados no banco:
> (e-mail) - (senha)
  - Usu√°rio 1: `fred@graodireto.com.br - 123Fred`
  - Usu√°rio 2: `samuca@gmail.com - 1samu9`
  - Usu√°rio 2: `gabribo@yahoo.com - gabribas5839`

Ap√≥s logado e autenticado, basta conferir os restaurantes dispon√≠veis e vasculhar seus card√°pios üòã

> Caso queira deslogar da aplica√ß√£o, basta clicar no icone de perfil na navbar e clicar em "Sair"

## üì≤ Bonus: vers√£o mobile

Ao alcancar uma resolu√ß√£o **menor ou igual a 500px**, a aplica√ß√£o passar√° a ter um visual que simula um app mobile

> üåü Ficaria feliz demais em receber alguns feedbacks de melhoria ü•≥ o projeto est√° sendo desenvolvido com muito carinho üåü

<hr />

# [üá∫üá∏ English]

# üç≤ Spot

Spot is a fullstack project that consists in an MVP of a gastronomic application, that after logged in (email and password encrypted), brings to the user a list of restaurants and their respective information, such as address, phone number, and their menus, containing details of each menu item such as description and price

## üß∞ Technologies and tools used

- [Javascript](https://www.javascript.com/) - Programming language used
- [React](https://reactjs.org/) - Front-end componentization library
- [React Router](https://reactrouter.com/en/main) - React library for route management
- [ContextAPI](https://reactjs.org/docs/context.html) - React resource for state management
- [React Icons](https://react-icons.github.io/react-icons/) - React icon library
- [Styled Components](https://styled-components.com/) - React component styling library
- [Node.js](https://nodejs.org/en/) - JS execution field for back-end
- [Express.js](https://expressjs.com/) - Node.js framework
- [Sequelize](https://sequelize.org/) - ORM for MySQL relational database requests
- [MySQL](https://www.mysql.com/) - Used relational database
- [Docker](https://www.docker.com/) - Containerization service
- [Axios](https://axios-http.com/docs/intro) - Front-end API request library
- [Concurrently](https://www.npmjs.com/package/concurrently) - Package used to start up the front and back end simultaneously
- [Jsonwebtoken](https://jwt.io/) - Library used to generate user validation token
- [md5](https://www.md5hashgenerator.com/) - Library that generates a hash from a payload
- [joi](https://www.npmjs.com/package/joi) - Used to validate login fields
- [Express Async Errors](https://www.npmjs.com/package/express-async-errors) - Catches asynchronous errors generated in express
- [dotenv](https://www.npmjs.com/package/dotenv) - Allocate environment variables
- [mocha](https://mochajs.org/) - Node.js testing framework
- [chai](https://www.chaijs.com/) - Node.js assertion library
- [sinon](https://sinonjs.org/) - JavaScript stubs and mocks library

## ‚úÖ Status

*Front-end:*
  - [x] Responsive login page and email and password fields
  - [x] Responsive registration page with email, password and user fields
  - [x] User and restaurant routes created
  - [x] Responsive home page listing all available restaurants in the bank
  - [x] Styling of the restaurants in the home page
  - [x] Option to filter the restaurants through the search field (search by restaurant name, name or description of a dish)
  - [x] Restaurant's information screen accessible through a click on the restaurant's card
  - [x] Restaurant information screen showing the name, address and phone number of the restaurant, as well as the list of menu items (with name, description and price)
  - [x] Option in the navigation bar that allows the user to return to the "home".
  - [x] Option in the navigation bar that allows the user to log off from the application
  - [ ] Tests of the "login" page
  - [ ] Tests of the "register" page
  - [ ] Tests of the "home" page
  - [ ] Tests of the "restaurants" page

*Back-end
  - [x] Creation of database structure and relationships
  - [x] Creation of the user and restaurants routes 
  - [x] Creation of the items route (including the route that brings the items according to the "id" of a restaurant)
  - [x] Populate the database with pre-registered users (e-mail and password encrypted), restaurants and their respective items
  - [x] On the login, validate previously if the e-mail is in the bank
  - [x] At home, validate if the user has access to the page through a token generated at login
  - [x] Controllers tests
  - [x] Services tests
  - [x] "models" tests

## üë∑‚ôÇÔ∏è Testing

This project has a **unit tests** coverage, to test the application, enter the folder you want to test (Front/Client: `./client`, Back/Server: `./server`) and run the `npm test` command

> Note: Front-end tests have not been created yet, check their status in the **‚úÖ status** section of this readme

## üë©üíª Access the project

‚ö†üõ† Deploy not yet done :'( üõ†‚ö†

## üíª Prerequisites

Before installing the application, if you choose to run the application via [Docker](https://www.docker.com/) check that you have:

  - Version *equal* or *superior* to `1.13.1` of `Docker`
  - Ports `3000`, `3001` and `3306` on your machine cleared
  
No Docker:

  - Version *equal* or *greater* than `16` of `node`
  - MySQL`](https://www.mysql.com/) instance running on port `3306`
    > ‚ö† Update the environment variables with your database password (.env file in the /server folder), and also the variables in the sequelize config file ( config file in the /server/database/config folder) ‚ö†
  - Ports `3000` and `3001` on your machine cleared

## üöÄ Installing locally

Follow these commands in order *according to the method you choose*

Via Docker:

  - Clone the project: `git clone git@github.com:SamuelDAlencar/rest-listing_app.git`
  - Inside the root: `npm run compose:d`
    > If you want to run the containers attached to the terminal to keep track of their status, just run `npm run compose:up`, then populate the database in another terminal with `npm run pre:start:server` in the root, or `npm run pre:start` if in the /server folder
  - If no errors occur, go to the page and log in: `http://localhost:3000/login`

No Docker:

  - Clone the project: `git clone git@github.com:SamuelDAlencar/rest-listing_app.git`
  - In the root: `npm run install:apps`
  - Still in root: `npm run start:apps`
  - If no error occurs and the application has not yet opened in the browser, go to this URL and login: `http://localhost:3000/login`

## üë©üíª Using the application

Click the `"Register"` button when entering the application, and enter login data that is **not sensitive**.

If you prefer not to register, just use one of these 3 users already registered in the bank:
> (e-mail) - (password)
  - User 1: `fred@graodireto.com.br - 123Fred`.
  - User 2: `samuca@gmail.com - 1samu9`
  - User 2: `gabribo@yahoo.com - gabribas5839`

Once logged in and authenticated, simply check out the available restaurants and browse their menus üòã

> If you want to logout from the application, just click on the profile icon in the navbar and click "Logout".

## üì≤ Bonus: mobile version

By reaching a resolution **less than or equal to 500px**, the application will look like a mobile app

<hr />

> üåü I would be very happy to receive some improvement feedbacks ü•≥ the project is being developed with great care üåü
